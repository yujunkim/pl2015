<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>ImpParser</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library ImpParser</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab454"></a><h1 class="section">ImpParser: Lexing and Parsing in Coq</h1>

<div class="paragraph"> </div>

 The development of the <span class="inlinecode"><span class="id" type="library">Imp</span></span> language in Imp.v completely ignores
    issues of concrete syntax -- how an ascii string that a programmer
    might write gets translated into the abstract syntax trees defined
    by the datatypes <span class="inlinecode"><a class="idref" href="Imp.html#aexp"><span class="id" type="inductive">aexp</span></a></span>, <span class="inlinecode"><a class="idref" href="Imp.html#bexp"><span class="id" type="inductive">bexp</span></a></span>, and <span class="inlinecode"><a class="idref" href="Auto.html#Repeat.com"><span class="id" type="inductive">com</span></a></span>.  In this file we
    illustrate how the rest of the story can be filled in by building
    a simple lexical analyzer and parser using Coq's functional
    programming facilities.

<div class="paragraph"> </div>

    This development is not intended to be understood in detail: the
    explanations are fairly terse and there are no exercises.  The
    main point is simply to demonstrate that it can be done.  You are
    invited to look through the code -- most of it is not very
    complicated, though the parser relies on some "monadic"
    programming idioms that may require a little work to make out --
    but most readers will probably want to just skip down to the
    Examples section at the very end to get the punchline. 
</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a name="lab455"></a><h1 class="section">Internals</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="SfLib.html#"><span class="id" type="library">SfLib</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="Imp.html#"><span class="id" type="library">Imp</span></a>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#"><span class="id" type="library">String</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#"><span class="id" type="library">Ascii</span></a>.<br/>

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">list_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab456"></a><h2 class="section">Lexical Analysis</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="isWhite"><span class="id" type="definition">isWhite</span></a> (<span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" type="definition">nat_of_ascii</span></a> <a class="idref" href="ImpParser.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#orb"><span class="id" type="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#orb"><span class="id" type="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> 32)   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> 9))   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#orb"><span class="id" type="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> 10)   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> 13)). 
<br/>
<span class="id" type="keyword">Notation</span> <a name=":nat_scope:x_'<=?'_x"><span class="id" type="notation">"</span></a>x '&lt;=?' y" := (<a class="idref" href="SfLib.html#ble_nat"><span class="id" type="definition">ble_nat</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>)<br/>
&nbsp;&nbsp;(<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 70, <span class="id" type="keyword">no</span> <span class="id" type="keyword">associativity</span>) : <span class="id" type="var">nat_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isLowerAlpha"><span class="id" type="definition">isLowerAlpha</span></a> (<span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" type="definition">nat_of_ascii</span></a> <a class="idref" href="ImpParser.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (97 <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> 122).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isAlpha"><span class="id" type="definition">isAlpha</span></a> (<span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" type="definition">nat_of_ascii</span></a> <a class="idref" href="ImpParser.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#orb"><span class="id" type="definition">orb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (65 <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> 90))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (97 <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> 122)).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="isDigit"><span class="id" type="definition">isDigit</span></a> (<span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">n</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" type="definition">nat_of_ascii</span></a> <a class="idref" href="ImpParser.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> (48 <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a>) (<a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="ImpParser.html#:nat_scope:x_'<=?'_x"><span class="id" type="notation">&lt;=?</span></a> 57).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="chartype"><span class="id" type="inductive">chartype</span></a> := <a name="white"><span class="id" type="constructor">white</span></a> | <a name="alpha"><span class="id" type="constructor">alpha</span></a> | <a name="digit"><span class="id" type="constructor">digit</span></a> | <a name="other"><span class="id" type="constructor">other</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="classifyChar"><span class="id" type="definition">classifyChar</span></a> (<span class="id" type="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) : <a class="idref" href="ImpParser.html#chartype"><span class="id" type="inductive">chartype</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="ImpParser.html#isWhite"><span class="id" type="definition">isWhite</span></a> <a class="idref" href="ImpParser.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#white"><span class="id" type="constructor">white</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span> <span class="id" type="keyword">if</span> <a class="idref" href="ImpParser.html#isAlpha"><span class="id" type="definition">isAlpha</span></a> <a class="idref" href="ImpParser.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#alpha"><span class="id" type="constructor">alpha</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span> <span class="id" type="keyword">if</span> <a class="idref" href="ImpParser.html#isDigit"><span class="id" type="definition">isDigit</span></a> <a class="idref" href="ImpParser.html#c"><span class="id" type="variable">c</span></a> <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#digit"><span class="id" type="constructor">digit</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#other"><span class="id" type="constructor">other</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="list_of_string"><span class="id" type="definition">list_of_string</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#EmptyString"><span class="id" type="constructor">EmptyString</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#String"><span class="id" type="constructor">String</span></a> <span class="id" type="var">c</span> <span class="id" type="var">s</span> ⇒ <span class="id" type="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">(</span></a><a class="idref" href="ImpParser.html#list_of_string"><span class="id" type="definition">list_of_string</span></a> <a class="idref" href="ImpParser.html#s"><span class="id" type="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="string_of_list"><span class="id" type="definition">string_of_list</span></a> (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#fold_right"><span class="id" type="definition">fold_right</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#String"><span class="id" type="constructor">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#EmptyString"><span class="id" type="constructor">EmptyString</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="token"><span class="id" type="definition">token</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> (<span class="id" type="var">cls</span> : <a class="idref" href="ImpParser.html#chartype"><span class="id" type="inductive">chartype</span></a>) (<span class="id" type="var">acc</span> <span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#ascii"><span class="id" type="inductive">ascii</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">tk</span> := <span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#acc"><span class="id" type="variable">acc</span></a> <span class="id" type="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> | <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#rev"><span class="id" type="definition">rev</span></a> <a class="idref" href="ImpParser.html#acc"><span class="id" type="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">]</span></a> <span class="id" type="keyword">end</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> ⇒ <a class="idref" href="ImpParser.html#tk"><span class="id" type="variable">tk</span></a><br/>
&nbsp;&nbsp;| (<span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">xs'</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#cls"><span class="id" type="variable">cls</span></a>, <a class="idref" href="ImpParser.html#classifyChar"><span class="id" type="definition">classifyChar</span></a> <a class="idref" href="ImpParser.html#x"><span class="id" type="variable">x</span></a>, <span class="id" type="var">x</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span>, "("      ⇒ <a class="idref" href="ImpParser.html#tk"><span class="id" type="variable">tk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">[</span></a>"("<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::(</span></a><a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <a class="idref" href="ImpParser.html#other"><span class="id" type="constructor">other</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> <span class="id" type="var">xs'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">)</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span>, ")"      ⇒ <a class="idref" href="ImpParser.html#tk"><span class="id" type="variable">tk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">[</span></a>")"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::(</span></a><a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <a class="idref" href="ImpParser.html#other"><span class="id" type="constructor">other</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> <span class="id" type="var">xs'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">)</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="ImpParser.html#white"><span class="id" type="constructor">white</span></a>, <span class="id" type="var">_</span>    ⇒ <a class="idref" href="ImpParser.html#tk"><span class="id" type="variable">tk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">(</span></a><a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <a class="idref" href="ImpParser.html#white"><span class="id" type="constructor">white</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> <span class="id" type="var">xs'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ImpParser.html#alpha"><span class="id" type="constructor">alpha</span></a>,<a class="idref" href="ImpParser.html#alpha"><span class="id" type="constructor">alpha</span></a>,<span class="id" type="var">x</span>  ⇒ <a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <a class="idref" href="ImpParser.html#alpha"><span class="id" type="constructor">alpha</span></a> (<span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="ImpParser.html#acc"><span class="id" type="variable">acc</span></a>) <span class="id" type="var">xs'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ImpParser.html#digit"><span class="id" type="constructor">digit</span></a>,<a class="idref" href="ImpParser.html#digit"><span class="id" type="constructor">digit</span></a>,<span class="id" type="var">x</span>  ⇒ <a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <a class="idref" href="ImpParser.html#digit"><span class="id" type="constructor">digit</span></a> (<span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="ImpParser.html#acc"><span class="id" type="variable">acc</span></a>) <span class="id" type="var">xs'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ImpParser.html#other"><span class="id" type="constructor">other</span></a>,<a class="idref" href="ImpParser.html#other"><span class="id" type="constructor">other</span></a>,<span class="id" type="var">x</span>  ⇒ <a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <a class="idref" href="ImpParser.html#other"><span class="id" type="constructor">other</span></a> (<span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="ImpParser.html#acc"><span class="id" type="variable">acc</span></a>) <span class="id" type="var">xs'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>,<span class="id" type="var">tp</span>,<span class="id" type="var">x</span>         ⇒ <a class="idref" href="ImpParser.html#tk"><span class="id" type="variable">tk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">(</span></a><a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <span class="id" type="var">tp</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">]</span></a> <span class="id" type="var">xs'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span> %<span class="id" type="var">char</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="tokenize"><span class="id" type="definition">tokenize</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#map"><span class="id" type="definition">map</span></a> <a class="idref" href="ImpParser.html#string_of_list"><span class="id" type="definition">string_of_list</span></a> (<a class="idref" href="ImpParser.html#tokenize_helper"><span class="id" type="definition">tokenize_helper</span></a> <a class="idref" href="ImpParser.html#white"><span class="id" type="constructor">white</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> (<a class="idref" href="ImpParser.html#list_of_string"><span class="id" type="definition">list_of_string</span></a> <a class="idref" href="ImpParser.html#s"><span class="id" type="variable">s</span></a>)).<br/>

<br/>
<span class="id" type="keyword">Example</span> <a name="tokenize_ex1"><span class="id" type="definition">tokenize_ex1</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#tokenize"><span class="id" type="definition">tokenize</span></a> "abc12==3  223*(3+(a+c))" %<span class="id" type="var">string</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">[</span></a>"abc"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "12"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "=="<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "3"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "223"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"*"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "("<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "3"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "+"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "("<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"a"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "+"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> "c"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> ")"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">;</span></a> ")"<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_x_';'_'..'_';'_x_']'"><span class="id" type="notation">]</span></a>%<span class="id" type="var">string</span>.<br/>
<span class="id" type="keyword">Proof</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab457"></a><h2 class="section">Parsing</h2>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
<a name="lab458"></a><h3 class="section">Options with Errors</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="optionE"><span class="id" type="inductive">optionE</span></a> (<span class="id" type="var">X</span>:<span class="id" type="keyword">Type</span>) : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="SomeE"><span class="id" type="constructor">SomeE</span></a> : <span class="id" type="var">X</span> → <a class="idref" href="ImpParser.html#optionE"><span class="id" type="inductive">optionE</span></a> <span class="id" type="var">X</span><br/>
&nbsp;&nbsp;| <a name="NoneE"><span class="id" type="constructor">NoneE</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a> → <a class="idref" href="ImpParser.html#optionE"><span class="id" type="inductive">optionE</span></a> <span class="id" type="var">X</span>.<br/>

<br/>
<span class="id" type="keyword">Implicit Arguments</span> <a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> [[<span class="id" type="var">X</span>]].<br/>
<span class="id" type="keyword">Implicit Arguments</span> <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> [[<span class="id" type="var">X</span>]].<br/>

<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">"</span></a>'DO' ( x , y ) &lt;== e1 ; e2" <br/>
&nbsp;&nbsp;&nbsp;:= (<span class="id" type="keyword">match</span> <span class="id" type="var">e1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> ⇒ <span class="id" type="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> <span class="id" type="var">err</span> ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> <span class="id" type="var">err</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>, <span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 60).<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">"</span></a>'DO' ( x , y ) &lt;-- e1 ; e2 'OR' e3" <br/>
&nbsp;&nbsp;&nbsp;:= (<span class="id" type="keyword">match</span> <span class="id" type="var">e1</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> ⇒ <span class="id" type="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> <span class="id" type="var">err</span> ⇒ <span class="id" type="var">e3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" type="tactic">right</span> <span class="id" type="keyword">associativity</span>, <span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 60, <span class="id" type="var">e2</span> <span class="id" type="tactic">at</span> <span class="id" type="var">next</span> <span class="id" type="keyword">level</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab459"></a><h3 class="section">Symbol Table</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="build_symtable"><span class="id" type="definition">build_symtable</span></a> (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) (<span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : (<a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> ⇒ (<span class="id" type="keyword">fun</span> <span class="id" type="var">s</span> ⇒ <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#forallb"><span class="id" type="definition">forallb</span></a> <a class="idref" href="ImpParser.html#isLowerAlpha"><span class="id" type="definition">isLowerAlpha</span></a> (<a class="idref" href="ImpParser.html#list_of_string"><span class="id" type="definition">list_of_string</span></a> <span class="id" type="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> (<span class="id" type="keyword">fun</span> <span class="id" type="var">s</span> ⇒ <span class="id" type="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string_dec"><span class="id" type="definition">string_dec</span></a> <a class="idref" href="ImpParser.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">x</span> <span class="id" type="keyword">then</span> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="keyword">else</span> (<a class="idref" href="ImpParser.html#build_symtable"><span class="id" type="definition">build_symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="ImpParser.html#s"><span class="id" type="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="ImpParser.html#build_symtable"><span class="id" type="definition">build_symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab460"></a><h3 class="section">Generic Combinators for Building Parsers</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">string_scope</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parser"><span class="id" type="definition">parser</span></a> (<span class="id" type="var">T</span> : <span class="id" type="keyword">Type</span>) := <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a> → <a class="idref" href="ImpParser.html#optionE"><span class="id" type="inductive">optionE</span></a> (<a class="idref" href="ImpParser.html#T"><span class="id" type="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>).<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="many_helper"><span class="id" type="definition">many_helper</span></a> {<span class="id" type="var">T</span>} (<span class="id" type="var">p</span> : <a class="idref" href="ImpParser.html#parser"><span class="id" type="definition">parser</span></a> <a class="idref" href="ImpParser.html#T"><span class="id" type="variable">T</span></a>) <span class="id" type="var">acc</span> <span class="id" type="var">steps</span> <span class="id" type="var">xs</span> :=<br/>
<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a>, <a class="idref" href="ImpParser.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <span class="id" type="keyword">with</span><br/>
| 0, <span class="id" type="var">_</span> ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
| <span class="id" type="var">_</span>, <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> <span class="id" type="var">_</span> ⇒ <a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">((</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#rev"><span class="id" type="definition">rev</span></a> <a class="idref" href="ImpParser.html#acc"><span class="id" type="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span>, <a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">xs'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> ⇒ <a class="idref" href="ImpParser.html#many_helper"><span class="id" type="definition">many_helper</span></a> <a class="idref" href="ImpParser.html#p"><span class="id" type="variable">p</span></a> (<span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><a class="idref" href="ImpParser.html#acc"><span class="id" type="variable">acc</span></a>) <span class="id" type="var">steps'</span> <span class="id" type="var">xs'</span><br/>
<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="many"><span class="id" type="definition">many</span></a> {<span class="id" type="var">T</span>} (<span class="id" type="var">p</span> : <a class="idref" href="ImpParser.html#parser"><span class="id" type="definition">parser</span></a> <a class="idref" href="ImpParser.html#T"><span class="id" type="variable">T</span></a>) (<span class="id" type="var">steps</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <a class="idref" href="ImpParser.html#parser"><span class="id" type="definition">parser</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#T"><span class="id" type="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="ImpParser.html#many_helper"><span class="id" type="definition">many_helper</span></a> <a class="idref" href="ImpParser.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="firstExpect"><span class="id" type="definition">firstExpect</span></a> {<span class="id" type="var">T</span>} (<span class="id" type="var">t</span> : <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) (<span class="id" type="var">p</span> : <a class="idref" href="ImpParser.html#parser"><span class="id" type="definition">parser</span></a> <a class="idref" href="ImpParser.html#T"><span class="id" type="variable">T</span></a>) : <a class="idref" href="ImpParser.html#parser"><span class="id" type="definition">parser</span></a> <a class="idref" href="ImpParser.html#T"><span class="id" type="variable">T</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">fun</span> <span class="id" type="var">xs</span> ⇒ <span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">xs'</span> ⇒ <span class="id" type="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string_dec"><span class="id" type="definition">string_dec</span></a> <span class="id" type="var">x</span> <a class="idref" href="ImpParser.html#t"><span class="id" type="variable">t</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">then</span> <a class="idref" href="ImpParser.html#p"><span class="id" type="variable">p</span></a> <span class="id" type="var">xs'</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> ("expected '" <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#:string_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="ImpParser.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#:string_scope:x_'++'_x"><span class="id" type="notation">++</span></a> "'.")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> ⇒  <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> ("expected '" <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#:string_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="ImpParser.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#:string_scope:x_'++'_x"><span class="id" type="notation">++</span></a> "'.")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="expect"><span class="id" type="definition">expect</span></a> (<span class="id" type="var">t</span> : <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) : <a class="idref" href="ImpParser.html#parser"><span class="id" type="definition">parser</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" type="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> <a class="idref" href="ImpParser.html#t"><span class="id" type="variable">t</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">xs</span> ⇒ <a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#tt"><span class="id" type="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab461"></a><h3 class="section">A Recursive-Descent Parser for Imp</h3>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseIdentifier"><span class="id" type="definition">parseIdentifier</span></a> (<span class="id" type="var">symtable</span> :<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>→<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ImpParser.html#optionE"><span class="id" type="inductive">optionE</span></a> (<a class="idref" href="SfLib.html#id"><span class="id" type="inductive">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) :=<br/>
<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <span class="id" type="keyword">with</span><br/>
| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Expected identifier"<br/>
| <span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">xs'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#forallb"><span class="id" type="definition">forallb</span></a> <a class="idref" href="ImpParser.html#isLowerAlpha"><span class="id" type="definition">isLowerAlpha</span></a> (<a class="idref" href="ImpParser.html#list_of_string"><span class="id" type="definition">list_of_string</span></a> <span class="id" type="var">x</span>) <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="SfLib.html#Id"><span class="id" type="constructor">Id</span></a> (<a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <span class="id" type="var">x</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">xs'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> ("Illegal identifier:'" <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#:string_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#:string_scope:x_'++'_x"><span class="id" type="notation">++</span></a> "'")<br/>
<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseNumber"><span class="id" type="definition">parseNumber</span></a> (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) : <a class="idref" href="ImpParser.html#optionE"><span class="id" type="inductive">optionE</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) :=<br/>
<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <span class="id" type="keyword">with</span> <br/>
| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#ListNotations.:list_scope:'['_']'"><span class="id" type="notation">[]</span></a> ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Expected number"<br/>
| <span class="id" type="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a><span class="id" type="var">xs'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#forallb"><span class="id" type="definition">forallb</span></a> <a class="idref" href="ImpParser.html#isDigit"><span class="id" type="definition">isDigit</span></a> (<a class="idref" href="ImpParser.html#list_of_string"><span class="id" type="definition">list_of_string</span></a> <span class="id" type="var">x</span>) <span class="id" type="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#fold_left"><span class="id" type="definition">fold_left</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span> <span class="id" type="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Peano.html#:nat_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="ImpParser.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" type="definition">nat_of_ascii</span></a> <a class="idref" href="ImpParser.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Peano.html#:nat_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" type="definition">nat_of_ascii</span></a> "0"%<span class="id" type="var">char</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Peano.html#:nat_scope:x_'+'_x"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ImpParser.html#list_of_string"><span class="id" type="definition">list_of_string</span></a> <span class="id" type="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">xs'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Expected number"<br/>
<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="parsePrimaryExp"><span class="id" type="definition">parsePrimaryExp</span></a> (<span class="id" type="var">steps</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) <span class="id" type="var">symtable</span> (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) <br/>
&nbsp;&nbsp;&nbsp;: <a class="idref" href="ImpParser.html#optionE"><span class="id" type="inductive">optionE</span></a> (<a class="idref" href="Imp.html#aexp"><span class="id" type="inductive">aexp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">i</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <a class="idref" href="ImpParser.html#parseIdentifier"><span class="id" type="definition">parseIdentifier</span></a> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#AId"><span class="id" type="constructor">AId</span></a> <span class="id" type="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">n</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <a class="idref" href="ImpParser.html#parseNumber"><span class="id" type="definition">parseNumber</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#ANum"><span class="id" type="constructor">ANum</span></a> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a>  <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "(" (<a class="idref" href="ImpParser.html#parseSumExp"><span class="id" type="definition">parseSumExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">u</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <a class="idref" href="ImpParser.html#expect"><span class="id" type="definition">expect</span></a> ")" <span class="id" type="var">rest</span> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
<span class="id" type="keyword">with</span> <a name="parseProductExp"><span class="id" type="definition">parseProductExp</span></a> (<span class="id" type="var">steps</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) <span class="id" type="var">symtable</span> (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>)  :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#parsePrimaryExp"><span class="id" type="definition">parsePrimaryExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">es</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#many"><span class="id" type="definition">many</span></a> (<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "*" (<a class="idref" href="ImpParser.html#parsePrimaryExp"><span class="id" type="definition">parsePrimaryExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>)) <span class="id" type="var">steps'</span> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#fold_left"><span class="id" type="definition">fold_left</span></a> <a class="idref" href="Imp.html#AMult"><span class="id" type="constructor">AMult</span></a> <span class="id" type="var">es</span> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
<span class="id" type="keyword">with</span> <a name="parseSumExp"><span class="id" type="definition">parseSumExp</span></a> (<span class="id" type="var">steps</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) <span class="id" type="var">symtable</span> (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>)  :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#parseProductExp"><span class="id" type="definition">parseProductExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">es</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#many"><span class="id" type="definition">many</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "+" (<a class="idref" href="ImpParser.html#parseProductExp"><span class="id" type="definition">parseProductExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "-" (<a class="idref" href="ImpParser.html#parseProductExp"><span class="id" type="definition">parseProductExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">),</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">steps'</span> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#fold_left"><span class="id" type="definition">fold_left</span></a> (<span class="id" type="keyword">fun</span> <span class="id" type="var">e0</span> <span class="id" type="var">term</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#term"><span class="id" type="variable">term</span></a> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a>  <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#APlus"><span class="id" type="constructor">APlus</span></a> <a class="idref" href="ImpParser.html#e0"><span class="id" type="variable">e0</span></a> <span class="id" type="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> ⇒ <a class="idref" href="Imp.html#AMinus"><span class="id" type="constructor">AMinus</span></a> <a class="idref" href="ImpParser.html#e0"><span class="id" type="variable">e0</span></a> <span class="id" type="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">es</span> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>         <br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseAExp"><span class="id" type="definition">parseAExp</span></a> := <a class="idref" href="ImpParser.html#parseSumExp"><span class="id" type="definition">parseSumExp</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="parseAtomicExp"><span class="id" type="definition">parseAtomicExp</span></a> (<span class="id" type="var">steps</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">symtable</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>→<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>)  :=<br/>
<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a>    <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">u</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <a class="idref" href="ImpParser.html#expect"><span class="id" type="definition">expect</span></a> "true" <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#BTrue"><span class="id" type="constructor">BTrue</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">u</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <a class="idref" href="ImpParser.html#expect"><span class="id" type="definition">expect</span></a> "false" <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#BFalse"><span class="id" type="constructor">BFalse</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "not" (<a class="idref" href="ImpParser.html#parseAtomicExp"><span class="id" type="definition">parseAtomicExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#BNot"><span class="id" type="constructor">BNot</span></a> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "(" (<a class="idref" href="ImpParser.html#parseConjunctionExp"><span class="id" type="definition">parseConjunctionExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">u</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <a class="idref" href="ImpParser.html#expect"><span class="id" type="definition">expect</span></a> ")" <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a> <a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <a class="idref" href="ImpParser.html#parseProductExp"><span class="id" type="definition">parseProductExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "==" (<a class="idref" href="ImpParser.html#parseAExp"><span class="id" type="definition">parseAExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <span class="id" type="var">rest</span> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#BEq"><span class="id" type="constructor">BEq</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "&lt;=" (<a class="idref" href="ImpParser.html#parseAExp"><span class="id" type="definition">parseAExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <span class="id" type="var">rest</span> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#BLe"><span class="id" type="constructor">BLe</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Expected '==' or '&lt;=' after arithmetic expression"<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a><br/>
<span class="id" type="keyword">end</span><br/>
<span class="id" type="keyword">with</span> <a name="parseConjunctionExp"><span class="id" type="definition">parseConjunctionExp</span></a> (<span class="id" type="var">steps</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">symtable</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>→<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>)   :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#parseAtomicExp"><span class="id" type="definition">parseAtomicExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">es</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#many"><span class="id" type="definition">many</span></a> (<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "&amp;&amp;" (<a class="idref" href="ImpParser.html#parseAtomicExp"><span class="id" type="definition">parseAtomicExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>)) <span class="id" type="var">steps'</span> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Lists.List.html#fold_left"><span class="id" type="definition">fold_left</span></a> <a class="idref" href="Imp.html#BAnd"><span class="id" type="constructor">BAnd</span></a> <span class="id" type="var">es</span> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parseBExp"><span class="id" type="definition">parseBExp</span></a> := <a class="idref" href="ImpParser.html#parseConjunctionExp"><span class="id" type="definition">parseConjunctionExp</span></a>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="parseSimpleCommand"><span class="id" type="definition">parseSimpleCommand</span></a> (<span class="id" type="var">steps</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">symtable</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>→<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">u</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <a class="idref" href="ImpParser.html#expect"><span class="id" type="definition">expect</span></a> "SKIP" <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#::'SKIP'"><span class="id" type="notation">SKIP</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "IF" (<a class="idref" href="ImpParser.html#parseBExp"><span class="id" type="definition">parseBExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">c</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a>  <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "THEN" (<a class="idref" href="ImpParser.html#parseSequencedCommand"><span class="id" type="definition">parseSequencedCommand</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">c'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest''</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "ELSE" (<a class="idref" href="ImpParser.html#parseSequencedCommand"><span class="id" type="definition">parseSequencedCommand</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">u</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest'''</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#expect"><span class="id" type="definition">expect</span></a> "END" <span class="id" type="var">rest''</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">IFB</span></a> <span class="id" type="var">e</span> <a class="idref" href="Imp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">THEN</span></a> <span class="id" type="var">c</span> <a class="idref" href="Imp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">ELSE</span></a> <span class="id" type="var">c'</span> <a class="idref" href="Imp.html#::'IFB'_x_'THEN'_x_'ELSE'_x_'FI'"><span class="id" type="notation">FI</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'''</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "WHILE" (<a class="idref" href="ImpParser.html#parseBExp"><span class="id" type="definition">parseBExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">c</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> "DO" (<a class="idref" href="ImpParser.html#parseSequencedCommand"><span class="id" type="definition">parseSequencedCommand</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">u</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a><span class="id" type="var">rest''</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#expect"><span class="id" type="definition">expect</span></a> "END" <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="Imp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">WHILE</span></a> <span class="id" type="var">e</span> <a class="idref" href="Imp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">DO</span></a> <span class="id" type="var">c</span> <a class="idref" href="Imp.html#::'WHILE'_x_'DO'_x_'END'"><span class="id" type="notation">END</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest''</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">i</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#parseIdentifier"><span class="id" type="definition">parseIdentifier</span></a> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">e</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> ":=" (<a class="idref" href="ImpParser.html#parseAExp"><span class="id" type="definition">parseAExp</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">i</span> <a class="idref" href="Imp.html#::x_'::='_x"><span class="id" type="notation">::=</span></a> <span class="id" type="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
<br/>
<span class="id" type="keyword">with</span> <a name="parseSequencedCommand"><span class="id" type="definition">parseSequencedCommand</span></a> (<span class="id" type="var">steps</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">symtable</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>→<a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) (<span class="id" type="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ImpParser.html#steps"><span class="id" type="variable">steps</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="ImpParser.html#NoneE"><span class="id" type="constructor">NoneE</span></a> "Too many recursive calls"<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#S"><span class="id" type="constructor">S</span></a> <span class="id" type="var">steps'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">c</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">&lt;==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#parseSimpleCommand"><span class="id" type="definition">parseSimpleCommand</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a> <a class="idref" href="ImpParser.html#xs"><span class="id" type="variable">xs</span></a><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<=='_x_';'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">DO</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">c'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">&lt;--</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#firstExpect"><span class="id" type="definition">firstExpect</span></a> ";;" (<a class="idref" href="ImpParser.html#parseSequencedCommand"><span class="id" type="definition">parseSequencedCommand</span></a> <span class="id" type="var">steps'</span> <a class="idref" href="ImpParser.html#symtable"><span class="id" type="variable">symtable</span></a>) <span class="id" type="var">rest</span><a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">c</span> <a class="idref" href="Imp.html#::x_';;'_x"><span class="id" type="notation">;;</span></a> <span class="id" type="var">c'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#::'DO'_'('_x_','_x_')'_'<--'_x_';'_x_'OR'_x"><span class="id" type="notation">OR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ImpParser.html#SomeE"><span class="id" type="constructor">SomeE</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">rest</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="bignumber"><span class="id" type="definition">bignumber</span></a> := 1000.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="parse"><span class="id" type="definition">parse</span></a> (<span class="id" type="var">str</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Strings.String.html#string"><span class="id" type="inductive">string</span></a>) : <a class="idref" href="ImpParser.html#optionE"><span class="id" type="inductive">optionE</span></a> (<a class="idref" href="Imp.html#com"><span class="id" type="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl5/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="ImpParser.html#token"><span class="id" type="definition">token</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">tokens</span> := <a class="idref" href="ImpParser.html#tokenize"><span class="id" type="definition">tokenize</span></a> <a class="idref" href="ImpParser.html#str"><span class="id" type="variable">str</span></a> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ImpParser.html#parseSequencedCommand"><span class="id" type="definition">parseSequencedCommand</span></a> <a class="idref" href="ImpParser.html#bignumber"><span class="id" type="definition">bignumber</span></a> (<a class="idref" href="ImpParser.html#build_symtable"><span class="id" type="definition">build_symtable</span></a> <a class="idref" href="ImpParser.html#tokens"><span class="id" type="variable">tokens</span></a> 0) <a class="idref" href="ImpParser.html#tokens"><span class="id" type="variable">tokens</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab462"></a><h1 class="section">Examples</h1>

</div>
<div class="code">

<br/>

<br/>

<br/>

<br/>
</div>

<div class="doc">
 
</div>
<div class="code">

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>